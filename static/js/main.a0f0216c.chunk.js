(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{26:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(0),o=t.n(i),c=t(13),a=t.n(c),u=t(5),l=t(4),s=t(9),f=t(3),h=t(2);function g(){var n=Object(f.a)(["\n  cursor: pointer;\n"]);return g=function(){return n},n}var j,b,p=Object(h.c)(g()),d=function(n,e){return"".concat(e,"px solid ").concat(n)},v=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"high"===n?"\n      border-top: ".concat(d(e.palette.grayLight,t),";\n      border-left: ").concat(d(e.palette.grayLight,t),";\n      border-right: ").concat(d(e.palette.grayDark,t),";\n      border-bottom: ").concat(d(e.palette.grayDark,t),";\n    "):"low"===n?"\n      border-top: ".concat(d(e.palette.grayDark,t),";\n      border-left: ").concat(d(e.palette.grayDark,t),";\n      border-right: ").concat(d(e.palette.grayLight,t),";\n      border-bottom: ").concat(d(e.palette.grayLight,t),";\n    "):void 0};function m(){var n=Object(f.a)(["\n  ","\n  ","\n  width: 25px;\n  height: 25px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n"]);return m=function(){return n},n}!function(n){n[n.Easy=0]="Easy",n[n.Normal=1]="Normal",n[n.Hard=2]="Hard"}(j||(j={})),function(n){n[n.Clear=0]="Clear",n[n.NearLevel1=1]="NearLevel1",n[n.NearLevel2=2]="NearLevel2",n[n.NearLevel3=3]="NearLevel3",n[n.NearLevel4=4]="NearLevel4",n[n.NearLevel5=5]="NearLevel5",n[n.NearLevel6=6]="NearLevel6",n[n.NearLevel7=7]="NearLevel7",n[n.NearLevel8=8]="NearLevel8",n[n.Flag=9]="Flag",n[n.Mine=10]="Mine"}(b||(b={}));var O=h.d.div(m(),(function(n){var e=n.theme;return"\n      ".concat(v("high",e,3),"\n      background-color: ").concat(e.palette.grayNormal,";\n    ")}),p);function x(){var n=Object(f.a)(["\n  text-align: center;\n"]);return x=function(){return n},n}function y(){var n=Object(f.a)(["\n  width: auto;\n  height: auto;\n  padding: 5px;\n  display: inline-block;\n"]);return y=function(){return n},n}var w=Object(h.d)(O)(y()),L=h.d.p(x()),N=function(n,e){var t=function(n){var t=n.Game,o=Object(i.useState)(null),c=Object(l.a)(o,2),a=c[0],u=c[1];return Object(r.jsx)("div",{children:null===a?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(L,{children:"Select Level To Play !"}),Object.values(e).filter((function(n){return"number"===typeof n})).map((function(n){return Object(r.jsx)(w,{onClick:function(){u(n)},children:e[n]},n)}))]}):Object(r.jsx)(t,{level:a})})};return function(){return Object(r.jsx)(t,{Game:n})}};function C(){var n=Object(f.a)(["\n  width: 90%;\n"]);return C=function(){return n},n}var k=h.d.img(C());function A(){var n=Object(f.a)(["\n  min-width: 60px;\n  color: ",";\n  font-weight: bolder;\n  background-color: #222;\n  ","\n  padding: 3px 6px;\n  text-align: ",";\n"]);return A=function(){return n},n}function D(){var n=Object(f.a)(["\n  width: 38px;\n  height: 38px;\n  border-width: 4px;\n  margin: 0 15px;\n"]);return D=function(){return n},n}function M(){var n=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ","\n  padding: 5px;\n"]);return M=function(){return n},n}var _=h.d.div(M(),(function(n){var e=n.theme;return v("low",e,5)})),P=Object(h.d)(O)(D()),T=h.d.div(A(),(function(n){return n.theme.palette.white}),(function(n){var e=n.theme;return v("low",e,1)}),(function(n){return n.textAlign||"center"})),F=function(n){var e=n.flagAmount,t=n.gameResult,i=n.onMainActionClick;return Object(r.jsxs)(_,{children:[Object(r.jsx)(T,{textAlign:"left",children:e}),Object(r.jsx)(P,{onClick:i,children:Object(r.jsx)(k,{src:function(){switch(t){case null:return"https://cdn.shopify.com/s/files/1/1061/1924/files/Slightly_Smiling_Face_Emoji_Icon_60x60.png?16228697460559734940";case"win":return"https://cdn.shopify.com/s/files/1/1061/1924/files/Sunglasses_Emoji.png?2976903553660223024";case"lose":return"https://cdn.shopify.com/s/files/1/1061/1924/files/Dizzy_Face_Emoji_60x60.png?8026536574188759287"}}()})}),Object(r.jsx)(T,{textAlign:"right",children:0})]})},E=t(17),S=t(18),z=function(n){return[b.Flag,null].includes(n)},B=function(){function n(e,t){Object(E.a)(this,n),this._position=e,this._map=t}return Object(S.a)(n,[{key:"value",get:function(){return this._position}},{key:"twoDimensionalPosition",get:function(){var n=Object(l.a)(this._map,1)[0];return[this._position%n,Math.floor(this._position/n)]}},{key:"LimitIndex",get:function(){var n=Object(l.a)(this._map,2);return{Top:0,Left:0,Right:n[0],Bottom:n[1]}}}],[{key:"createTool",value:function(n){var e=Object(l.a)(n,2),t=e[0],r=e[1],i=0,o=0,c=t-1,a=r-1,s=function(n,e){return e*t+n};return{getTwoDimensionalPosition:function(e){var t=Object(l.a)(n,1)[0];return[e%t,Math.floor(e/t)]},getMineAdjacentLevel:function(n,e){if(e.includes(n))return b.Mine;var t=this.getAdjacentPosition(n),r=[].concat(Object(u.a)(e),Object(u.a)(t)),i=new Set(r).size,o=r.length-i;return 0===o?b.Clear:b["NearLevel".concat(o)]},getAdjacentPosition:function(n){return function(n){return n.filter((function(n){return null!==n}))}([this.leftTopOf(n),this.topOf(n),this.rightTopOf(n),this.leftOf(n),this.rightOf(n),this.leftBottomOf(n),this.bottomOf(n),this.rightBottomOf(n)])},topOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],o=t[1];return o===i?null:s(r,o-1)},rightOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],i=t[1];return r===c?null:s(r+1,i)},bottomOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],i=t[1];return i===a?null:s(r,i+1)},leftOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],i=t[1];return r===o?null:s(r-1,i)},leftTopOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],c=t[1];return r===o||c===i?null:s(r-1,c-1)},leftBottomOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],i=t[1];return r===o||i===a?null:s(r-1,i+1)},rightTopOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],o=t[1];return r===c||o===i?null:s(r+1,o-1)},rightBottomOf:function(n){var e=this.getTwoDimensionalPosition(n),t=Object(l.a)(e,2),r=t[0],i=t[1];return r===c||i===a?null:s(r+1,i+1)}}}}]),n}();function H(){var n=Object(f.a)(["\n  color: ",";\n  font-weight: bolder;\n  font-size: 17px;\n"]);return H=function(){return n},n}function I(){var n=Object(f.a)(["\n  font-size: 14px;\n  ","\n  ","\n"]);return I=function(){return n},n}var K=Object(h.d)(O)(I(),(function(n){var e=n.type,t=n.theme;return z(e)?"":"border: 1px solid ".concat(t.palette.grayLight,";")}),(function(n){return n.type===b.Flag?"cursor: default;":""})),R=h.d.span(H(),(function(n){var e=n.theme,t=n.colorKey;return e.palette[t]})),J=function(n){var e=n.type,t=n.onClick,i=n.onContextMenu;return Object(r.jsx)(K,{type:e,onClick:function(){e!==b.Flag&&t()},onContextMenu:function(n){"contextmenu"===n.type&&(n.preventDefault(),z(e)&&i())},children:function(){switch(e){case null:case b.Clear:return;case b.NearLevel1:return Object(r.jsx)(R,{colorKey:"minesweeperContentNormal",children:e});case b.NearLevel2:return Object(r.jsx)(R,{colorKey:"minesweeperContentWarn",children:e});case b.NearLevel3:case b.NearLevel4:case b.NearLevel5:case b.NearLevel6:case b.NearLevel7:case b.NearLevel8:return Object(r.jsx)(R,{colorKey:"minesweeperContentDanger",children:e});case b.Flag:return Object(r.jsx)(k,{src:"https://cdn.shopify.com/s/files/1/1061/1924/files/Red_Pin_Emoji_60x60.png?5754029179590811720"});case b.Mine:return Object(r.jsx)(k,{src:"https://cdn.shopify.com/s/files/1/1061/1924/files/Poop_Emoji.png?6135488989279264585"})}}()})};function G(){var n=Object(f.a)(["\n  margin-top: 10px;\n  width: ","px;\n  font-size: 0;\n  display: flex;\n  flex-wrap: wrap;\n  box-sizing: content-box;\n  ","\n"]);return G=function(){return n},n}function W(){var n=Object(f.a)(["\n  ","\n  padding: 20px;\n  background-color: ",";\n"]);return W=function(){return n},n}var q=h.d.div(W(),(function(n){var e=n.theme;return v("high",e,5)}),(function(n){return n.theme.palette.grayNormal})),Q=h.d.div(G(),(function(n){return 25*n.xAmount}),(function(n){var e=n.theme;return v("low",e,5)})),U=N((function(n){var e,t=n.level,o=(e={},Object(s.a)(e,j.Easy,{map:[9,9],mineAmount:10}),Object(s.a)(e,j.Normal,{map:[16,16],mineAmount:40}),Object(s.a)(e,j.Hard,{map:[30,16],mineAmount:99}),e)[t],c=Object(i.useCallback)((function(){for(var n=Object(l.a)(o.map,2),e=n[0],t=n[1],r=[],i=0;i<e*t;i++)r.push(null);return r}),[o.map]),a=Object(i.useState)(null),f=Object(l.a)(a,2),h=f[0],g=f[1],p=Object(i.useState)([]),d=Object(l.a)(p,2),v=d[0],m=d[1],O=Object(i.useState)((function(){return c()})),x=Object(l.a)(O,2),y=x[0],w=x[1],L=B.createTool(o.map),N=function(n){var e=v.length>0?v:M(n);m((function(n){return 0===n.length?e:n}));var t=Object(u.a)(y),r=L.getMineAdjacentLevel(n,e);t[n]=r;r===b.Clear&&function r(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[n];i.forEach((function(n){if(!o.includes(n)){var i=L.getMineAdjacentLevel(n,e);o.push(n),t[n]=i,i===b.Clear&&r(L.getAdjacentPosition(n),o)}}))}(L.getAdjacentPosition(n)),w(t)},C=Object(i.useCallback)((function(){var n=Object(u.a)(y);v.forEach((function(e){n[e]=b.Mine})),w(n)}),[y,v]),k=Object(i.useCallback)((function(n){"lose"===n&&C(),g(n)}),[C]);Object(i.useEffect)((function(){h||(y.includes(b.Mine)&&k("lose"),y.filter((function(n){return z(n)})).length===v.length&&k("win"))}),[y,k,h,v.length]);var A=o.mineAmount-y.filter((function(n){return n===b.Flag})).length,D=function(n){if(A>0){var e=Object(u.a)(y);switch(e[n]){case null:e[n]=b.Flag;break;case b.Flag:e[n]=null}w(e)}},M=function(n){for(var e=[],t=0;t<y.length;t++)t!==n&&e.push(t);var r=o.mineAmount;return Object(u.a)(new Array(r)).reduce((function(n){var t=Math.floor(Math.random()*e.length);return[].concat(Object(u.a)(n),Object(u.a)(e.splice(t,1)))}),[]).sort((function(n,e){return n-e}))};return Object(i.useEffect)((function(){0===v.length&&y.some((function(n){return!z(n)}))&&(g(null),w(c()))}),[c,y,v.length]),Object(r.jsxs)(q,{children:[Object(r.jsx)(F,{flagAmount:A,gameResult:h,onMainActionClick:function(){m([])}}),Object(r.jsx)(Q,{xAmount:o.map[0],children:function(){var n=function(n,e){return function(){null===h&&n(e)}};return y.map((function(e,t){return Object(r.jsx)(J,{type:e,onClick:n(N,t),onContextMenu:n(D,t)},t)}))}()})]})}),j),V={palette:{white:"#fff",black:"#000",grayLight:"#d9d9d9",grayNormal:"#c4c4c4",grayDark:"#808080",minesweeperContentNormal:"#1c00ff",minesweeperContentWarn:"#008001",minesweeperContentDanger:"#ff0200",minesweeperContentDangerDark:"#600000"}};var X=function(){return Object(r.jsx)(h.a,{theme:V,children:Object(r.jsx)(U,{})})};function Y(){var n=Object(f.a)(['\n  html,\n  body {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100vh;\n  }\n  \n  html {\n    font-family: "Microsoft JhengHei", Arial;\n  }\n  \n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  div {\n    box-sizing: border-box;\n  }\n']);return Y=function(){return n},n}var Z=Object(h.b)(Y()),$=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,27)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,c=e.getTTFB;t(n),r(n),i(n),o(n),c(n)}))};a.a.render(Object(r.jsxs)(o.a.StrictMode,{children:[Object(r.jsx)(Z,{}),Object(r.jsx)(X,{})]}),document.getElementById("root")),$()}},[[26,1,2]]]);
//# sourceMappingURL=main.a0f0216c.chunk.js.map